{% extends 'FrontendBundle::Default/base.html.twig' %}
{% block title %}Reporte de IVA{% endblock %}
{% block CSs %}
<style>
input { 
    text-align: right; 
}
</style> 
{% endblock %}
{% block Scripts %}
<script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.17.0/dist/jquery.validate.min.js"></script>
<script>
	window.arrayempresa = {{ empresa|raw }};
	console.log(arrayempresa);
	function goBack() {
					    window.history.back();
					} 
	$(document).ready(function(){
		$("#titulo-empresa").text(arrayempresa.nombre);
		$("#buscarPeriodo").on("click",function(){
            
             $("#form-calcular").validate().resetForm();
             $("#form-calcular").find('.has-error').removeClass("has-error"); //limpia las clases has-error que pone los recuadros rojos
             $("#form-calcular").find('.has-success').removeClass("has-success");//limpia los recuadros verdes de los datos correctos ingresados       
			console.log($("#periodo").val());
			console.log(typeof($("#periodo").val()));
			$("#saldoFavorIVA").val("");
			$("#saldoIngresarIVA").val("");

			$.get("/impositivo/iva/" + arrayempresa.id + "/" + $("#periodo").val(),function(resp,estado,jqXHR){
    	    	var arrayIva = JSON.parse(resp);
    	    	window.arrayIva= arrayIva.data;
    	    	console.log(arrayIva);
    	    	

//--------------VENTAS------------------------------------------------------

    	    	// Variables de VENTAS
    	    	var ventasNetoTotal = parseFloat("0");
    	    	var ventasNeto105 = parseFloat("0");
    	    	var ventasNeto21 = parseFloat("0");
    	    	var ventasExento = parseFloat("0");
    	    	var ventasNogravado = parseFloat("0");
    	    	
    	    	var ventasIva21Total = parseFloat("0");
    	    	var ventasIva21RI = parseFloat("0");
    	    	var ventasIva21MON = parseFloat("0");
    	    	var ventasIva21CF = parseFloat("0");
    	    	var ventasIva21EXI = parseFloat("0");
    	    	var ventasIva21SNC = parseFloat("0");

    	    	var ventasIva105Total = parseFloat("0");
    	    	var ventasIva105RI = parseFloat("0");
    	    	var ventasIva105MON = parseFloat("0");
    	    	var ventasIva105CF = parseFloat("0");
    	    	var ventasIva105EXI = parseFloat("0");
    	    	var ventasIva105SNC = parseFloat("0");

    	    	var ventasPercepciones = parseFloat("0");
    	    	var ventasRetenciones = parseFloat("0");
    	    	var ventasRetGanancias = parseFloat("0");

    	    	var ventasTotal = parseFloat("0");
    	    	var bodyRetenciones = "";

    	    	
    	    	arrayIva.data.ventas.forEach(function(item,index,arr){
    	    		

    	    		ventasNeto105 = parseFloat(ventasNeto105) + parseFloat(item.neto105);
    	    		ventasNeto21 = parseFloat(ventasNeto21) + parseFloat(item.neto21);
    	    		ventasExento = parseFloat(ventasExento) + parseFloat(item.neto_exento);
    	    		ventasNogravado = parseFloat(ventasNogravado) + parseFloat(item.nogravado);
    	    		ventasPercepciones = parseFloat(ventasPercepciones) + parseFloat(item.percepcion);
    	    		ventasRetenciones = parseFloat(ventasRetenciones) + parseFloat(item.retencion);
    	    		ventasRetGanancias = parseFloat(ventasRetGanancias) + parseFloat(item.ret_gan);

    	    		if ( parseFloat(item.percepcion) > parseFloat("0")){
    	    			bodyRetenciones = bodyRetenciones + 
    	    				"<!--  -->" +
    	    				"<div class='form-group'>" +                          
	                	      "<label class='control-label col-md-6' for=''>" +
	                	      moment(item.fecha).format('DD/MM/YYYY') +
	                	      //"Comp Nro -- " + item.nro_comprobante +
	                	      ": </label>" +
	                	      "<div class='col-md-6'>" +
	                	        "<input type='text' class='form-control input-sm' disabled='true' value='" +
	                	        item.percepcion +
	                	        "'/>" +
	                	      "</div>" +
	                	    "</div>" +
	                	    "<!--/  -->";
	               	};

    	    		//IVAs

    	    		if (item.cliente.iva.codigo == "RI"){
    	    			console.log("RI");
    	    			ventasIva21RI = parseFloat(ventasIva21RI) + parseFloat(item.iva21);
    	    			ventasIva105RI = parseFloat(ventasIva105RI) + parseFloat(item.iva105);
    	    		};
    	    		if (item.cliente.iva.codigo == "MON"){
    	    			console.log("MON");
    	    			ventasIva21MON = parseFloat(ventasIva21MON) + parseFloat(item.iva21);
    	    			ventasIva105MON = parseFloat(ventasIva105MON) + parseFloat(item.iva105);
    	    		};
    	    		if (item.cliente.iva.codigo == "CF"){
    	    			console.log("CF");
    	    			ventasIva21CF = parseFloat(ventasIva21CF) + parseFloat(item.iva21);
    	    			ventasIva105CF = parseFloat(ventasIva105CF) + parseFloat(item.iva105);
    	    		};
    	    		if (item.cliente.iva.codigo == "EXI"){
    	    			console.log("EXI");
    	    			ventasIva21EXI = parseFloat(ventasIva21EXI) + parseFloat(item.iva21);
    	    			ventasIva105EXI = parseFloat(ventasIva105EXI) + parseFloat(item.iva105);
    	    		};
    	    		if (item.cliente.iva.codigo == "SNC"){
    	    			console.log("SNC");
    	    			ventasIva21SNC = parseFloat(ventasIva21SNC) + parseFloat(item.iva21);
    	    			ventasIva105SNC = parseFloat(ventasIva105SNC) + parseFloat(item.iva105);
    	    		};

    	    		
    	    	});
    	    	ventasNetoTotal = parseFloat(ventasNetoTotal) + parseFloat(ventasNeto105) + parseFloat(ventasNeto21) +parseFloat(ventasExento) +parseFloat(ventasNogravado);

    	    	ventasIva105Total = parseFloat(ventasIva105RI) + parseFloat(ventasIva105MON) +parseFloat(ventasIva105CF) + parseFloat(ventasIva105EXI) + parseFloat(ventasIva105SNC);

    	    	ventasIva21Total = parseFloat(ventasIva21RI) + parseFloat(ventasIva21MON) +parseFloat(ventasIva21CF) + parseFloat(ventasIva21EXI) + parseFloat(ventasIva21SNC);

    	    	ventasTotal = 
    	    		parseFloat(ventasNetoTotal) + 
    	    		parseFloat(ventasPercepciones) +
    	    		parseFloat(ventasRetenciones) +
    	    		parseFloat(ventasRetGanancias) +
    	    		parseFloat(ventasIva105Total) +
    	    		parseFloat(ventasIva21Total);

    	    	console.log("percepciones: " + ventasPercepciones);
    	    	console.log("retenciones: " + ventasRetenciones);
    	    	console.log("retenciones ganancias: " + ventasRetGanancias);
    	    	console.log("total: " + ventasTotal);
				
				$("#netos-total").text(ventasNetoTotal.toFixed(2));
				$("#neto21").val(ventasNeto21.toFixed(2));
				$("#neto105").val(ventasNeto105.toFixed(2));
				$("#netoExento").val(ventasExento.toFixed(2));
				$("#netoNogravado").val(ventasNogravado.toFixed(2));

				$("#iva21-total").text(ventasIva21Total.toFixed(2));
				$("#iva21RI").val(ventasIva21RI.toFixed(2));
				$("#iva21MON").val(ventasIva21MON.toFixed(2));
				$("#iva21CF").val(ventasIva21CF.toFixed(2));
				$("#iva21EXI").val(ventasIva21EXI.toFixed(2));
				$("#iva21SNC").val(ventasIva21SNC.toFixed(2));

				$("#iva105-total").text(ventasIva105Total.toFixed(2));
				$("#iva105RI").val(ventasIva105RI.toFixed(2));
				$("#iva105MON").val(ventasIva105MON.toFixed(2));
				$("#iva105CF").val(ventasIva105CF.toFixed(2));
				$("#iva105EXI").val(ventasIva105EXI.toFixed(2));
				$("#iva105SNC").val(ventasIva105SNC.toFixed(2));

				$("#totalVentas").val(ventasTotal.toFixed(2));

				console.log(bodyRetenciones);
				$("#bodyRetenciones").html(bodyRetenciones);
				$("#retenciones-total").text(ventasPercepciones.toFixed(2));

//--------------COMPRAS------------------------------------------------------

				//Variables de COMPRAS

    	    	var comprasNetoTotal = parseFloat("0");
    	    	var comprasNeto105 = parseFloat("0");
    	    	var comprasNeto21 = parseFloat("0");
    	    	var comprasNeto27 = parseFloat("0");
    	    	var comprasExento = parseFloat("0");
    	    	var comprasNogravado = parseFloat("0");
    	    	
    	    	var comprasIva27Total = parseFloat("0");
    	    	var comprasIva21Total = parseFloat("0");
    	    	var comprasIva105Total = parseFloat("0");
    	    	
    	    	var comprasPercIIBB = parseFloat("0");
    	    	var comprasPercIVA = parseFloat("0");
    	    	var comprasRetGanancias = parseFloat("0");

    	    	var arrayImputaciones27 = new Array();
    	    	var arrayImputTotales27 = new Array();
    	    	var arrayImputaciones21 = new Array();
    	    	var arrayImputTotales21 = new Array();
    	    	var arrayImputaciones105 = new Array();
    	    	var arrayImputTotales105 = new Array();
    	    	var comprasTotal = parseFloat("0");
    	    	var iva21ComprasBody = "";
    	    	var iva105ComprasBody = "";
    	    	
    	    	arrayIva.data.compras.forEach(function(item,index,arr){
    	    		
    	    		//Netos
    	    		comprasNeto105 = parseFloat(comprasNeto105) + parseFloat(item.neto105);
    	    		comprasNeto21 = parseFloat(comprasNeto21) + parseFloat(item.neto21);
    	    		comprasNeto27 = parseFloat(comprasNeto27) + parseFloat(item.neto27);
    	    		comprasExento = parseFloat(comprasExento) + parseFloat(item.exento);
    	    		comprasNogravado = parseFloat(comprasNogravado) + parseFloat(item.nogravado);
    	    		comprasPercIIBB = parseFloat(comprasPercIIBB) + parseFloat(item.perc_iibb);
    	    		comprasPercIVA = parseFloat(comprasPercIVA) + parseFloat(item.perc_iva);
    	    		comprasRetGanancias = parseFloat(comprasRetGanancias) + parseFloat(item.ret_ganancia);

    	    		// Vamos guardando las compras por Imputacion en un array
  			  		
  			  		var issetImput27 = false;
  			  		var issetImput21 = false;
  			  		var issetImput105 = false;

  			  		if ( parseFloat(item.iva27) > parseFloat("0") ){
  			  			arrayImputaciones27.forEach(function(item27,index,arr){
	  			  				if ( item27 == item.imputacion.codigo ){
	  			  					issetImput27 = true;
	  			  				}
	  			  			});
	
  			  			if (!issetImput27) {
  			  				arrayImputaciones27.push(item.imputacion.codigo);
  			  				arrayImputTotales27[item.imputacion.codigo]="0";
  			  			}
  			  			arrayImputTotales27[item.imputacion.codigo] = parseFloat(arrayImputTotales27[item.imputacion.codigo]) + parseFloat(item.iva27);
		  			}

		  			if ( parseFloat(item.iva21) > parseFloat("0") ){
  			  			arrayImputaciones21.forEach(function(item21,index,arr){
	  			  				if ( item21 == item.imputacion.codigo ){
	  			  					issetImput21 = true;
	  			  				}
	  			  			});
	
  			  			if (!issetImput21) {
  			  				arrayImputaciones21.push(item.imputacion.codigo);
  			  				arrayImputTotales21[item.imputacion.codigo]="0";
  			  			}
  			  			arrayImputTotales21[item.imputacion.codigo] = parseFloat(arrayImputTotales21[item.imputacion.codigo]) + parseFloat(item.iva21);
		  			}

		  			if ( parseFloat(item.iva105) > parseFloat("0") ){
  			  			arrayImputaciones105.forEach(function(item27,index,arr){
	  			  				if ( item27 == item.imputacion.codigo ){
	  			  					issetImput105 = true;
	  			  				}
	  			  			});
	
  			  			if (!issetImput105) {
  			  				arrayImputaciones105.push(item.imputacion.codigo);
  			  				arrayImputTotales105[item.imputacion.codigo]="0";
  			  			}
  			  			arrayImputTotales105[item.imputacion.codigo] = parseFloat(arrayImputTotales105[item.imputacion.codigo]) + parseFloat(item.iva105);
		  			}

    	    		
    	    	});

    	    	comprasNetoTotal = parseFloat(comprasNetoTotal) + parseFloat(comprasNeto105) + parseFloat(comprasNeto21) + parseFloat(comprasNeto27) + parseFloat(comprasExento) + parseFloat(comprasNogravado);

    	    	console.log(arrayImputTotales27);
    	    	console.log(arrayImputTotales21);
    	    	console.log(arrayImputTotales105);

    	    	arrayImputTotales21.forEach(function(item,index,arr){
    	    		iva21ComprasBody = iva21ComprasBody + 
    	    			"<!--  -->" +
    	    				"<div class='form-group'>" +                          
	                	      "<label class='control-label col-md-6' for=''>" +
	                	      index +
	                	      //"Comp Nro -- " + item.nro_comprobante +
	                	      " : </label>" +
	                	      "<div class='col-md-6'>" +
	                	        "<input type='text' class='form-control input-sm' disabled='true' value='" +
	                	        item +
	                	        "'/>" +
	                	      "</div>" +
	                	    "</div>" +
	                	    "<!--/  -->";
	               	comprasIva21Total = parseFloat(comprasIva21Total) + parseFloat(item);
    	    	});

    	    	arrayImputTotales105.forEach(function(item,index,arr){
    	    		iva105ComprasBody = iva105ComprasBody + 
    	    			"<!--  -->" +
    	    				"<div class='form-group'>" +                          
	                	      "<label class='control-label col-md-6' for=''>" +
	                	      index +
	                	      //"Comp Nro -- " + item.nro_comprobante +
	                	      " : </label>" +
	                	      "<div class='col-md-6'>" +
	                	        "<input type='text' class='form-control input-sm' disabled='true' value='" +
	                	        item +
	                	        "'/>" +
	                	      "</div>" +
	                	    "</div>" +
	                	    "<!--/  -->";
	               	comprasIva105Total = parseFloat(comprasIva105Total) + parseFloat(item);

    	    	});

    	    	arrayImputTotales27.forEach(function(item,index,arr){
    	    		iva27ComprasBody = iva27ComprasBody + 
    	    			"<!--  -->" +
    	    				"<div class='form-group'>" +                          
	                	      "<label class='control-label col-md-6' for=''>" +
	                	      index +
	                	      //"Comp Nro -- " + item.nro_comprobante +
	                	      " : </label>" +
	                	      "<div class='col-md-6'>" +
	                	        "<input type='text' class='form-control input-sm' disabled='true' value='" +
	                	        item +
	                	        "'/>" +
	                	      "</div>" +
	                	    "</div>" +
	                	    "<!--/  -->";
	               	comprasIva27Total = parseFloat(comprasIva27Total) + parseFloat(item);

    	    	});

    	    	comprasTotal = 
    	    		parseFloat(comprasNetoTotal) + 
    	    		parseFloat(comprasPercIIBB) +
    	    		parseFloat(comprasPercIVA) +
    	    		parseFloat(comprasRetGanancias) +
    	    		parseFloat(comprasIva105Total) +
    	    		parseFloat(comprasIva21Total) +
    	    		parseFloat(comprasIva27Total);
    	    
				$("#comprasNetos-total").text(comprasNetoTotal.toFixed(2));
				$("#comprasNeto27").val(comprasNeto27.toFixed(2));
				$("#comprasNeto21").val(comprasNeto21.toFixed(2));
				$("#comprasNeto105").val(comprasNeto105.toFixed(2));
				$("#comprasNetoExento").val(comprasExento.toFixed(2));
				$("#comprasNetoNogravado").val(comprasNogravado.toFixed(2));
				$("#iva21ComprasBody").html(iva21ComprasBody);
				$("#iva105ComprasBody").html(iva105ComprasBody);
				$("#comprasIva21Total").text(comprasIva21Total);
				$("#comprasIva105Total").text(comprasIva105Total);				
				$("#comprasIva27Total").val(comprasNeto27.toFixed(2));
				$("#comprasPercIVA").val(comprasPercIVA.toFixed(2));
				$("#comprasTotal").val(comprasTotal.toFixed(2));


    		

//--------------POSICIONES------------------------------------------------------
				var subTotalIVA = "0";
				var retenciones = "0";
				var percepciones = "0";
				var saldoFavorContrib = parseFloat("0.00");

				subTotalIVA = 
					parseFloat(ventasIva21Total) +
					parseFloat(ventasIva105Total) - 
					parseFloat(comprasIva27Total) -
					parseFloat(comprasIva21Total) -
					parseFloat(comprasIva105Total);

				//console.log(subTotalIVA);
				$("#subTotalIVA").val(subTotalIVA.toFixed(2));
				$("#retenciones").val(ventasPercepciones.toFixed(2));
				$("#percepciones").val(comprasPercIVA.toFixed(2));
				$("#saldoFavorContrib").val(saldoFavorContrib.toFixed(2));
			});
		});

		$("#form-calcular").validate({
        	rules: {
        	    subTotalIVA: { 
        	      required: true,
                  number: true,  
        	      //minlength: 3
        	    },
        	    retenciones: { 
        	      required: true,
                  number: true,
        	      //minlength: 3
        	    },
        	    percepciones: { 
        	      required: true,
                  number: true,
        	      //minlength: 3
        	    },
        	    saldoFavorContrib: { 
        	      required: true,
                  number: true,
        	      //minlength: 3
        	    },
        	},
        	messages: {
        	    subTotalIVA: { 
        	      required: "Este campo es requerido",
        	      //minlength: 3
        	    },
        	    retenciones: { 
        	      required: "Este campo es requerido",
        	      //minlength: 3
        	    },
        	    percepciones: { 
        	      required: "Este campo es requerido",
        	      //minlength: 3
        	    },
        	    saldoFavorContrib: { 
        	      required: "Este campo es requerido",              
        	      //minlength: 3
        	    },
        	},
           highlight: function(element) {
              $(element).closest('.form-group').addClass('has-error');
              //$(element).addClass('has-error fa fa-times');
            },
            unhighlight: function(element) {
                $(element).closest('.form-group').removeClass('has-error');
                //$(element).('.input-sm').removeClass('glyphicon-remove');
            },
            errorElement: 'span',
            errorClass: 'help-block',
            errorPlacement: function(error, element) {
                if(element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else {
                    error.insertAfter(element);
                }
              } 
    	});
		
		$("#boton-calcular").on("click",function(){
			if ($("#form-calcular").valid()){
				var calculo = "0";
				calculo = 
					parseFloat($("#subTotalIVA").val()) -
					parseFloat($("#retenciones").val()) -
					parseFloat($("#percepciones").val()) -
					parseFloat($("#saldoFavorContrib").val());

				if ( parseFloat(calculo) < 0 ){
					$("#saldoFavorIVA").val(Math.abs(calculo).toFixed(2));
					$("#saldoIngresarIVA").val("0.00");
				}else{
					if ( parseFloat(calculo) > 0 ){
						$("#saldoFavorIVA").val("0.00");
						$("#saldoIngresarIVA").val(Math.abs(calculo).toFixed(2));
					}else{
						$("#saldoFavorIVA").val("0.00");
						$("#saldoIngresarIVA").val("0.00");
					}
				}
			}
		});
	});
</script>	
{% endblock %}
{% block body %}
<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
       <h2>
        IVA
        <small>Periodo detallado</small>
      </h2>
      <ol class="breadcrumb">
        <li><a href="/"><i class="fa fa-home"></i> Home</a></li>
        <li><a href="/impositivo"><i class="fa fa-search"></i> Impositivo</a></li>
        <li class="active"><i class="fa fa-plus" aria-hidden="true"></i> IVA</li>
      </ol>
    </section>
    <!-- Main content -->
    <section class="content">
      	<div class="row">
	  		<div class="col-xs-12" style="bottom: 10px;">
		        <div class="form-group">
		                      {% block botones %}
		                      {% endblock %}
		        </div>
         	</div>
         	<div style="margin: 2em;"></div>
         	<h5 id="titulo-empresa" style="margin-left: 15px; margin-top: 20px"></h5>
         	
	        <div class="col-md-4">
	          <h4>Ventas</h4>
	          <!-- panel netos  -->
	          <div class="panel-group">
	            <div class="panel panel-default">
	              <div class="panel-heading">
	                <!-- header netos-->
	                <h4 class="panel-title">
	                  <a data-toggle="collapse" href="#netosventas" class="form-inline">
	                    <div class="col-md-6 text-left">
	                      <label>Netos</label>
	                    </div>
	                    <div class="text-right">
	                      <label>total: </label>
	                      <Label id="netos-total"></label>
	                    </div>
	                  </a>
	                </h4>
	                <!-- /header netos -->
	              </div>
	              <div id="netosventas" class="panel-collapse collapse">
	                <!-- body de netos-->
	                <div class="panel-body">
	                   <!--  -->
	                    <div class="form-group">                          
	                      <label class="control-label col-md-6" for="">Neto 21%: </label>
	                      <div class="col-md-6">
	                        <input type="text" class="form-control input-sm" disabled="true" id="neto21"></input>
	                      </div>             
	                    </div>
	                    <!--/  -->
	                    <!--  -->
	                    <div class="form-group">                          
	                      <label class="control-label col-md-6" for="">Neto 10.5%: </label>
	                      <div class="col-md-6">
	                        <input type="text" class="form-control input-sm" disabled="true" id="neto105"></input>
	                      </div>             
	                    </div>
	                    <!--/  -->
	                    <!--  -->
	                    <div class="form-group">                          
	                      <label class="control-label col-md-6" for="">Neto exento: </label>
	                      <div class="col-md-6">
	                        <input type="text" class="form-control input-sm" disabled="true" id="netoExento"></input>
	                      </div>             
	                    </div>
	                    <div class="form-group">                          
	                      <label class="control-label col-md-6" for="">Neto No Gravado: </label>
	                      <div class="col-md-6">
	                        <input type="text" class="form-control input-sm" disabled="true" id="netoNogravado"></input>
	                      </div>             
	                    </div>
	                    <!--/  -->
	                </div>
	                <!--/body de netos -->
	              </div>
	            </div>
	          </div>
	          <!--/panel netos  -->
	          <!-- panel IVA21  -->
	          <div class="panel-group">
	            <div class="panel panel-default">
	              <div class="panel-heading">
	                <!-- header IVA21-->
	                <h4 class="panel-title">
	                  <a data-toggle="collapse" href="#iva21ventas" class="form-inline">
	                    <div class="col-md-6 text-left">
	                      <label>IVA 21%</label>
	                    </div>
	                    <div class="text-right">
	                      <label>total</label>
	                      <Label id="iva21-total"></label>
	                    </div>
	                  </a>
	                </h4>
	                <!-- /header IVA21 -->
	              </div>
	              <div id="iva21ventas" class="panel-collapse collapse">
	                <!-- body de IVA21-->
	                <div class="panel-body">
	                   <!--  -->
	                    <div class="form-group">                          
	                      <label class="control-label col-md-6" for="">IVA 21 RI: </label>
	                      <div class="col-md-6">
	                        <input type="text" class="form-control input-sm" disabled="true" id="iva21RI">
	                      </div>             
	                    </div>
	                    <!--/  -->
	                    <!--  -->
	                    <div class="form-group">                          
	                      <label class="control-label col-md-6" for="">IVA 21 MON: </label>
	                      <div class="col-md-6">
	                        <input type="text" class="form-control input-sm" disabled="true" id="iva21MON">
	                      </div>             
	                    </div>
	                    <!--/  -->
	                    <!--  -->
	                    <div class="form-group">                          
	                      <label class="control-label col-md-6" for="">IVA 21 CF: </label>
	                      <div class="col-md-6">
	                        <input type="text" class="form-control input-sm" disabled="true" id="iva21CF">
	                      </div>             
	                    </div>
	                    <!--/  -->
	                    <!--  -->
	                    <div class="form-group">                          
	                      <label class="control-label col-md-6" for="">IVA 21 EXI: </label>
	                      <div class="col-md-6">
	                        <input type="text" class="form-control input-sm" disabled="true" id="iva21EXI">
	                      </div>             
	                    </div>
	                    <!--/  -->
	                    <!--  -->
	                    <div class="form-group">                          
	                      <label class="control-label col-md-6" for="">IVA 21 SNC: </label>
	                      <div class="col-md-6">
	                        <input type="text" class="form-control input-sm" disabled="true" id="iva21SNC">
	                      </div>             
	                    </div>
	                    <!--/  -->
	                </div>
	                <!--/body de IVA21 -->
	              </div>
	            </div>
	          </div>
	          <!--/panel IVA21  -->
	        <!-- panel IVA10.5  -->
	          <div class="panel-group">
	            <div class="panel panel-default">
	              <div class="panel-heading">
	                <!-- header IVA10.5-->
	                <h4 class="panel-title">
	                  <a data-toggle="collapse" href="#iva105ventas" class="form-inline">
	                    <div class="col-md-6 text-left">
	                      <label>IVA 10.5%</label>
	                    </div>
	                    <div class="text-right">
	                      <label>total</label>
	                      <Label id="iva105-total"></label>
	                    </div>
	                  </a>
	                </h4>
	            </div>
	            <!-- /header IVA10.5 -->
	            <div id="iva105ventas" class="panel-collapse collapse">
	                <!-- body de IVA10.5-->
	                <div class="panel-body">
	                    <!--  -->
	                    <div class="form-group">                          
	                      <label class="control-label col-md-6" for="">IVA 10.5 RI: </label>
	                      <div class="col-md-6">
	                        <input type="text" class="form-control input-sm" disabled="true" id="iva105RI">
	                      </div>             
	                    </div>
	                    <!--/  -->
	                    <!--  -->
	                    <div class="form-group">                          
	                      <label class="control-label col-md-6" for="">IVA 10.5 MON: </label>
	                      <div class="col-md-6">
	                        <input type="text" class="form-control input-sm" disabled="true" id="iva105MON">
	                      </div>             
	                    </div>
	                    <!--/  -->
	                    <!--  -->
	                    <div class="form-group">                          
	                      <label class="control-label col-md-6" for="">IVA 10.5 CF: </label>
	                      <div class="col-md-6">
	                        <input type="text" class="form-control input-sm" disabled="true" id="iva105CF">
	                      </div>             
	                    </div>
	                    <!--/  -->
	                    <!--  -->
	                    <div class="form-group">                          
	                      <label class="control-label col-md-6" for="">IVA 10.5 EXI: </label>
	                      <div class="col-md-6">
	                        <input type="text" class="form-control input-sm" disabled="true" id="iva105EXI">
	                      </div>             
	                    </div>
	                    <!--/  -->
	                    <!--  -->
	                    <div class="form-group">                          
	                      <label class="control-label col-md-6" for="">IVA 10.5 SNC: </label>
	                      <div class="col-md-6">
	                        <input type="text" class="form-control input-sm" disabled="true" id="iva105SNC">
	                      </div>             
	                    </div>
	                    <!--/  -->
	                </div>
	            </div>
	            <!--/body de IVA10.5 -->
	            </div>
	          </div>
	          <!--/panel IVA10.5  -->

			<!-- panel Retenciones de IVA  -->
	          <div class="panel-group">
	            <div class="panel panel-default">
	              <div class="panel-heading">
	                <!-- header Retenciones de IVA-->
	                <h4 class="panel-title">
	                  <a data-toggle="collapse" href="#panelRetenciones" class="form-inline">
	                    <div class="col-md-6 text-left">
	                      <label>Retenc. de IVA</label>
	                    </div>
	                    <div class="text-right">
	                      <label>total</label>
	                      <Label id="retenciones-total"></label>
	                    </div>
	                  </a>
	                </h4>
	            </div>
	            <!-- /header Retenciones de IVA -->
	            <div id="panelRetenciones" class="panel-collapse collapse">
	                <!-- body de Retenciones de IVA-->
	                <div class="panel-body" id="bodyRetenciones">
	                    
	                </div>
	            </div>
	            <!--/body de Retenciones de IVA -->
	            </div>
	          </div>
	          <!--/panel Retenciones de IVA  -->

	          <div class="panel-group">
				    <div class="panel panel-default">
				      <div class="panel-heading" style="height: 35px;">
				        <!-- header netos-->
				        <h4 class="panel-title">
				          <a data-toggle="collapse"  class="form-inline">
				            <div class="col-md-12 text-left">
				              <label></label>
				            </div>
				          </a>
				        </h4>
				        <!-- /header netos -->
				      </div>
				      <div id="-" class="panel-collapse collapse in">
				        <!-- body de netos-->
				        <div class="panel-body">
				        <!-- total -->
	          				<div class="form-group">                         
	          				  <label class="control-label col-md-6" for="">Total: </label>
	          				  <div class="col-md-6">
	          				    <input type="text" class="form-control input-sm" disabled="true" id="totalVentas">
	          				  </div>                      
	          				</div>
	          			<!-- /total -->
	          	        </div>
					  </div>
					</div>
				</div>
	        </div>
	        <!-- /ventas -->
	        <div class="col-md-4">
	          <h4>Compras</h4>
	          <!-- panel netos  -->
	          <div class="panel-group">
	            <div class="panel panel-default">
	              <div class="panel-heading">
	                <!-- header netos-->
	                <h4 class="panel-title">
	                  <a data-toggle="collapse" href="#netosCompras" class="form-inline">
	                    <div class="col-md-6 text-left">
	                      <label>Netos</label>
	                    </div>
	                    <div class="text-right">
	                      <label>total</label>
	                      <Label id="comprasNetos-total"></label>
	                    </div>
	                  </a>
	                </h4>
	                <!-- /header netos -->
	              </div>
	              <div id="netosCompras" class="panel-collapse collapse">
	                <!-- body de netos-->
	                <div class="panel-body">
	                    <!--  -->
	                    <div class="form-group">
	                     <label class="control-label col-md-6" for="">Gravado 27%: </label>
	                      <div class="col-md-6">
	                        <input type="" class="form-control input-sm" disabled="true" id="comprasNeto27">
	                      </div>             
	                    </div>
	                    <!-- / -->
	                    <!--  -->
	                    <div class="form-group">
	                      <label class="control-label col-md-6" for="">Gravado 21%: </label>
	                      <div class="col-md-6">
	                        <input type="" class="form-control input-sm" disabled="true" id="comprasNeto21">
	                      </div>             
	                    </div>
	                    <!--/  -->
	                    <!--  -->
	                    <div class="form-group">
	                      <label class="control-label col-md-6" for="">Gravado 10.5%: </label>
	                      <div class="col-md-6">
	                        <input type="" class="form-control input-sm" disabled="true" id="comprasNeto105">
	                      </div>             
	                    </div>
	                    <!--/  -->
	                    <!--  -->
	                    <div class="form-group">
	                      <label class="control-label col-md-6" for="">No Gravado: </label>
	                      <div class="col-md-6">
	                        <input type="" class="form-control input-sm" disabled="true" id="comprasNetoNogravado">
	                      </div>             
	                    </div>
	                    <!--/  -->
	                    <!--  -->
	                    <div class="form-group">                          
	                      <label class="control-label col-md-6" for="">Exento: </label>
	                      <div class="col-md-6">
	                        <input type="" class="form-control input-sm" disabled="true" id="comprasNetoExento">
	                      </div>             
	                    </div>
	                    <!--/  -->
	                </div>
	                <!--/body de netos -->
	              </div>
	            </div>
	          </div>
	          <!--/panel netos  -->
	          <!-- panel IVA21  -->
	          <div class="panel-group">
	            <div class="panel panel-default">
	              <div class="panel-heading">
	                <!-- header IVA21-->
	                <h4 class="panel-title">
	                  <a data-toggle="collapse" href="#iva21Compras" class="form-inline">
	                    <div class="col-md-6 text-left">
	                      <label>IVA 21%</label>
	                    </div>
	                    <div class="text-right">
	                      <label>total</label>
	                      <Label id="comprasIva21Total"></label>
	                    </div>
	                  </a>
	                </h4>
	                <!-- /header IVA21 -->
	              </div>
	              <div id="iva21Compras" class="panel-collapse collapse">
	                <!-- body de IVA21-->
	                <div class="panel-body" id="iva21ComprasBody">
	                    
	                </div>
	                <!--/body de IVA21 -->
	              </div>
	            </div>
	          </div>
	          <!--/panel IVA21  -->
	           <!-- panel IVA10.5  -->
	          <div class="panel-group">
	            <div class="panel panel-default">
	              <div class="panel-heading">
	                <!-- header IVA10.5-->
	                <h4 class="panel-title">
	                  <a data-toggle="collapse" href="#iva105compras" class="form-inline">
	                    <div class="col-md-6 text-left">
	                      <label>IVA 10.5%</label>
	                    </div>
	                    <div class="text-right">
	                      <label>total</label>
	                      <Label id="comprasIva105Total"></label>
	                    </div>
	                  </a>
	                </h4>
	                <!-- /header IVA10.5 -->
	              </div>
	              <div id="iva105compras" class="panel-collapse collapse">
	                <!-- body de IVA10.5-->
	                <div class="panel-body" id="iva105ComprasBody">
	                    
	                </div>
	                <!--/body de IVA10.5 -->
	              </div>
	            </div>
	          </div>
	          <!--/panel IVA10.5  -->
	          <div class="panel-group">
				<div class="panel panel-default">
				  <div class="panel-heading" style="height: 35px;">
				    <!-- header netos-->
				    <h4 class="panel-title">
				      <a data-toggle="collapse"  class="form-inline">
				        <div class="col-md-12 text-left">
				          <label></label>
				        </div>
				      </a>
				    </h4>
				    <!-- /header netos -->
				  </div>
				  <div id="-" class="panel-collapse collapse in">
				    <!-- body de netos-->
				    <div class="panel-body">
				    	 <!-- IVA 27% -->
	          <div class="form-group">
	            <label class="control-label col-md-6" for="">IVA 27%: </label>
	            <div class="col-md-6">
	              <input type="" class="form-control input-sm" disabled="true" id="comprasIva27Total">
	            </div>                     
	          </div>
	          <!-- /IVA 27% -->
	          <br>
	          <!-- percepcion -->
	          <div class="form-group">
	            <label class="control-label col-md-6" for="">Percepcion: </label>
	            <div class="col-md-6">
	              <input type="" class="form-control input-sm" disabled="true" id="comprasPercIVA">
	            </div>             
	          </div>
	          <!-- /percepcion -->
	          <br>
	          <!-- total -->
	          <div class="form-group">                          
	            <label class="control-label col-md-6" for="">Total: </label>
	            <div class="col-md-6">
	              <input type="" class="form-control input-sm" disabled="true" id="comprasTotal">
	            </div>                    
	          </div>
	          <!-- /total-->
				    </div>
				  </div>
				</div>
			 </div>
	         
	        </div>
	        <!--/compras -->
	        <div class="col-md-4">

	        	<!-- ******************************************************************************************* -->
	          	<h4>Posiciones</h4>
						<div class="panel-group">
				            <div class="panel panel-default">
				              <div class="panel-heading" style="height: 35px;">
				                <!-- header netos-->
				                <h4 class="panel-title">
				                  <a data-toggle="collapse"  class="form-inline">
				                    <div class="col-md-12 text-left">
				                      <label></label>
				                    </div>
				                    
				                  </a>
				                </h4>
				                <!-- /header netos -->
				              </div>
				              <div id="-" class="panel-collapse collapse in">
				                <!-- body de netos-->
				                <form id="form-calcular">
					            <div class="panel-body">
			                        <div class="form-group">
							           <label class="control-label col-md-6" for="">Subtotal IVA: </label>
							            <div class="col-md-6">
							              <input type="" class="form-control input-sm" name="subTotalIVA" id="subTotalIVA" disabled="true">
							            </div>             
							        </div>
							        <div class="form-group">
							            <label class="control-label col-md-6" for="">Retenciones: </label>
							            <div class="col-md-6">
							              <input type="" class="form-control input-sm" name="retenciones" id="retenciones" disabled="true">
							            </div>             
							        </div>
							        <div class="form-group">
							            <label class="control-label col-md-6" for="">Percepciones: </label>
							            <div class="col-md-6">
							              <input type="" class="form-control input-sm" name="percepciones" id="percepciones" disabled="true">
							            </div>             
							        </div>
							        <div class="form-group">                          
							            <label class="control-label col-md-6" for="">S. a favor del cont.: </label>
							            <div class="col-md-6">
							              <input type="" class="form-control input-sm" name="saldoFavorContrib" id="saldoFavorContrib">
							        	 </div>             
							        </div>
									<div class="form-group">
							            <label class="control-label col-md-6" for="">Saldo a favor: </label>
							            <div class="col-md-6">
							              <input type="" class="form-control input-sm" id="saldoFavorIVA" disabled="true">
							            </div>             
							        </div>
							        <div class="form-group">                          
							            <label class="control-label col-md-6" for="">Saldo a Ingresar: </label>
							            <div class="col-md-6">
							              <input type="" class="form-control input-sm" id="saldoIngresarIVA" disabled="true">
							            </div>             
							        </div>
							        <br>
							        <div class="form-group">
							          	<div class="col-md-8"></div>
							            <div class="col-md-4">
							              <button type="submit" div="calcular" class="btn btn-primary btn-sm" id="boton-calcular" onclick="return false">calcular</button>
							            </div>             
							        </div>
					            </div>
					        	</form>
				            <!--/body de netos -->
				            </div>
			            </div>
		          </div>
	          	<!-- *************************************************************************** -->
	        </div>
      	</div>
    </section>
  </div>

{% endblock %}
